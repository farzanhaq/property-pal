{"ast":null,"code":"var _jsxFileName = \"/Users/farzanhaq/Desktop/PropertyPal/src/components/Screening/Confirmation/Confirmation.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\nimport { Typography, Descriptions, Divider, Button, Space } from \"antd\";\nimport { BuyerExperienceKind, BuyerPurposeKind } from \"../../../utils/enums\";\nimport { FormContext, FormStatusContext } from \"../../../utils/FormState\";\nimport { createScreening, updateScreening } from \"../../../graphql/mutations\";\nimport { API, graphqlOperation, Auth } from \"aws-amplify\";\nimport { StyledPrompt } from \"../../Styles/Title.style\";\nimport { StyledButtonNavDiv, StyledScreeningConfirmationDiv } from \"../../Styles/Div.style\";\nimport { listScreenings } from \"../../../graphql/queries\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Item\n} = Descriptions;\n\nconst Confirmation = () => {\n  _s();\n\n  const {\n    formState\n  } = useContext(FormContext);\n  const {\n    currentStep,\n    setCurrentStep\n  } = useContext(FormStatusContext);\n\n  const onFormSubmit = async () => {\n    try {\n      const {\n        attributes: {\n          email\n        }\n      } = await Auth.currentAuthenticatedUser();\n      const filter = {\n        user_email: {\n          eq: email\n        }\n      };\n      const screenings = await API.graphql({\n        query: listScreenings,\n        variables: {\n          filter: filter\n        }\n      });\n\n      if (screenings.data.listScreenings.items.length === 0) {\n        await API.graphql(graphqlOperation(createScreening, {\n          input: {\n            budget: formState.budget,\n            buyer_experience: formState.buyerExperience,\n            buyer_purpose: formState.buyerPurpose,\n            unit_premium_interest: formState.premiums,\n            num_bedrooms: formState.numBedrooms,\n            num_bathrooms: formState.numBathrooms,\n            user_email: email\n          }\n        }));\n      } else {\n        console.log(screenings.data.listScreenings.items);\n        console.log(screenings.data.listScreenings.items[0].id);\n        await API.graphql(graphqlOperation(updateScreening, {\n          input: {\n            id: screenings.data.listScreenings.items[0].id,\n            budget: formState.budget,\n            buyer_experience: formState.buyerExperience,\n            buyer_purpose: formState.buyerPurpose,\n            unit_premium_interest: formState.premiums,\n            num_bedrooms: formState.numBedrooms,\n            num_bathrooms: formState.numBathrooms,\n            user_email: email\n          }\n        }));\n      }\n\n      setCurrentStep(0);\n    } catch (err) {\n      console.log(\"error creating screening: \", err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      children: /*#__PURE__*/_jsxDEV(StyledPrompt, {\n        level: 5,\n        children: \"Please confirm your details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledScreeningConfirmationDiv, {\n      children: [/*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Experience\",\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          children: formState.buyerExperience === BuyerExperienceKind.FIRST_TIME ? \"I am looking to buy my first property\" : \"I have experience purchasing properties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Purpose\",\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          children: formState.buyerPurpose === BuyerPurposeKind.OWNER ? \"I am looking for a property to live in\" : \"I am looking for an investment property\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Bedrooms\",\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          children: `${formState.numBathrooms.length === 0 ? \"Any\" : formState.numBedrooms.join(\", \")}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Bathrooms\",\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          children: `${formState.numBedrooms.length === 0 ? \"Any\" : formState.numBathrooms.join(\", \")}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Premiums\",\n        children: /*#__PURE__*/_jsxDEV(Item, {\n          children: `${formState.premiums.length === 0 ? \"None\" : formState.premiums.join(\", \")}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Descriptions, {\n        title: \"Budget\",\n        children: /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n          children: formState.budget[0] != null && formState.budget[1] != null ? `$${formState.budget[0].toString().replace(new RegExp(/\\B(?=(\\d{3})+(?!\\d))/g), \",\")} - $${formState.budget[1].toString().replace(new RegExp(/\\B(?=(\\d{3})+(?!\\d))/g), \",\")}` : \"I do not have a budget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledButtonNavDiv, {\n      children: /*#__PURE__*/_jsxDEV(Space, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          shape: \"circle\",\n          size: \"large\",\n          icon: /*#__PURE__*/_jsxDEV(LeftOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 19\n          }, this),\n          onClick: () => setCurrentStep(currentStep - 1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onFormSubmit,\n          disabled: formState.buyerExperience === \"\" || formState.buyerPurpose === \"\" ? true : false,\n          type: \"primary\",\n          shape: \"circle\",\n          size: \"large\",\n          icon: /*#__PURE__*/_jsxDEV(RightOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 21\n          }, this),\n          htmlType: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Confirmation, \"O8Y4jizU3ZXbHbMzbFtp3y4aJcE=\");\n\n_c = Confirmation;\nexport default Confirmation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Confirmation\");","map":{"version":3,"sources":["/Users/farzanhaq/Desktop/PropertyPal/src/components/Screening/Confirmation/Confirmation.tsx"],"names":["useContext","LeftOutlined","RightOutlined","Typography","Descriptions","Divider","Button","Space","BuyerExperienceKind","BuyerPurposeKind","FormContext","FormStatusContext","createScreening","updateScreening","API","graphqlOperation","Auth","StyledPrompt","StyledButtonNavDiv","StyledScreeningConfirmationDiv","listScreenings","Item","Confirmation","formState","currentStep","setCurrentStep","onFormSubmit","attributes","email","currentAuthenticatedUser","filter","user_email","eq","screenings","graphql","query","variables","data","items","length","input","budget","buyer_experience","buyerExperience","buyer_purpose","buyerPurpose","unit_premium_interest","premiums","num_bedrooms","numBedrooms","num_bathrooms","numBathrooms","console","log","id","err","FIRST_TIME","OWNER","join","toString","replace","RegExp"],"mappings":"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","sourcesContent":["import { useContext } from \"react\";\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\nimport { Typography, Descriptions, Divider, Button, Space } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { BuyerExperienceKind, BuyerPurposeKind } from \"../../../utils/enums\";\nimport { FormContext, FormStatusContext } from \"../../../utils/FormState\";\nimport { createScreening, updateScreening } from \"../../../graphql/mutations\";\nimport { API, graphqlOperation, Auth } from \"aws-amplify\";\nimport { StyledPrompt } from \"../../Styles/Title.style\";\nimport {\n  StyledButtonNavDiv,\n  StyledScreeningConfirmationDiv,\n} from \"../../Styles/Div.style\";\nimport { listScreenings } from \"../../../graphql/queries\";\n\nconst { Item } = Descriptions;\n\nconst Confirmation = () => {\n  const { formState } = useContext(FormContext);\n  const { currentStep, setCurrentStep } = useContext(FormStatusContext);\n\n  const onFormSubmit = async () => {\n    try {\n      const {\n        attributes: { email },\n      } = await Auth.currentAuthenticatedUser();\n\n      const filter = {\n        user_email: {\n          eq: email,\n        },\n      };\n\n      const screenings: any = await API.graphql({\n        query: listScreenings,\n        variables: { filter: filter },\n      });\n\n      if (screenings.data.listScreenings.items.length === 0) {\n        await API.graphql(\n          graphqlOperation(createScreening, {\n            input: {\n              budget: formState.budget,\n              buyer_experience: formState.buyerExperience,\n              buyer_purpose: formState.buyerPurpose,\n              unit_premium_interest: formState.premiums,\n              num_bedrooms: formState.numBedrooms,\n              num_bathrooms: formState.numBathrooms,\n              user_email: email,\n            },\n          })\n        );\n      } else {\n        console.log(screenings.data.listScreenings.items)\n        console.log(screenings.data.listScreenings.items[0].id)\n        await API.graphql(\n          graphqlOperation(updateScreening, {\n            input: {\n              id: screenings.data.listScreenings.items[0].id,\n              budget: formState.budget,\n              buyer_experience: formState.buyerExperience,\n              buyer_purpose: formState.buyerPurpose,\n              unit_premium_interest: formState.premiums,\n              num_bedrooms: formState.numBedrooms,\n              num_bathrooms: formState.numBathrooms,\n              user_email: email,\n            },\n          })\n        );\n      }\n\n      setCurrentStep(0);\n    } catch (err) {\n      console.log(\"error creating screening: \", err);\n    }\n  };\n\n  return (\n    <>\n      <Typography>\n        <StyledPrompt level={5}>Please confirm your details...</StyledPrompt>\n      </Typography>\n      <br />\n      <StyledScreeningConfirmationDiv>\n        <Descriptions title=\"Experience\">\n          <Item>\n            {formState.buyerExperience === BuyerExperienceKind.FIRST_TIME\n              ? \"I am looking to buy my first property\"\n              : \"I have experience purchasing properties\"}\n          </Item>\n        </Descriptions>\n        <Divider />\n        <Descriptions title=\"Purpose\">\n          <Item>\n            {formState.buyerPurpose === BuyerPurposeKind.OWNER\n              ? \"I am looking for a property to live in\"\n              : \"I am looking for an investment property\"}\n          </Item>\n        </Descriptions>\n        <Divider />\n        <Descriptions title=\"Bedrooms\">\n          <Item>{`${\n            formState.numBathrooms.length === 0\n              ? \"Any\"\n              : formState.numBedrooms.join(\", \")\n          }`}</Item>\n        </Descriptions>\n        <Divider />\n        <Descriptions title=\"Bathrooms\">\n          <Item>{`${\n            formState.numBedrooms.length === 0\n              ? \"Any\"\n              : formState.numBathrooms.join(\", \")\n          }`}</Item>\n        </Descriptions>\n        <Divider />\n        <Descriptions title=\"Premiums\">\n          <Item>{`${\n            formState.premiums.length === 0\n              ? \"None\"\n              : formState.premiums.join(\", \")\n          }`}</Item>\n        </Descriptions>\n        <Divider />\n        <Descriptions title=\"Budget\">\n          <Descriptions.Item>\n            {formState.budget[0] != null && formState.budget[1] != null\n              ? `$${formState.budget[0]\n                  .toString()\n                  .replace(\n                    new RegExp(/\\B(?=(\\d{3})+(?!\\d))/g),\n                    \",\"\n                  )} - $${formState.budget[1]\n                  .toString()\n                  .replace(new RegExp(/\\B(?=(\\d{3})+(?!\\d))/g), \",\")}`\n              : \"I do not have a budget\"}\n          </Descriptions.Item>\n        </Descriptions>\n      </StyledScreeningConfirmationDiv>\n      <br />\n      <br />\n      <StyledButtonNavDiv>\n        <Space>\n          <Button\n            type=\"primary\"\n            shape=\"circle\"\n            size=\"large\"\n            icon={<LeftOutlined />}\n            onClick={() => setCurrentStep(currentStep - 1)}\n          />\n            <Button\n              onClick={onFormSubmit}\n              disabled={\n                formState.buyerExperience === \"\" ||\n                formState.buyerPurpose === \"\"\n                  ? true\n                  : false\n              }\n              type=\"primary\"\n              shape=\"circle\"\n              size=\"large\"\n              icon={<RightOutlined />}\n              htmlType=\"submit\"\n            />\n        </Space>\n      </StyledButtonNavDiv>\n    </>\n  );\n};\n\nexport default Confirmation;\n"]},"metadata":{},"sourceType":"module"}