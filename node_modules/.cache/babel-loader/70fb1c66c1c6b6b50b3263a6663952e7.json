{"ast":null,"code":"var _jsxFileName = \"/Users/farzanhaq/Desktop/PropertyPal/src/components/Authentication/Login/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Checkbox, Divider, Form, Input, message, Typography } from \"antd\";\nimport { API, Auth } from \"aws-amplify\";\nimport { useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { listScreenings } from \"../../../graphql/queries\";\nimport { AuthStatusContext } from \"../../../utils/AuthState\";\nimport { StyledLoginFormButton } from \"../../Styles/Button.style\";\nimport { StyledContentDiv, StyledLoginDiv } from \"../../Styles/Div.style\";\nimport { StyledAuthenticationForm } from \"../../Styles/Form.style\";\nimport { StyledForgotLoginLink } from \"../../Styles/Link.style\";\nimport { StyledTitle } from \"../../Styles/Title.style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Item\n} = Form;\n\nconst Login = () => {\n  _s();\n\n  const {\n    setLoggedIn\n  } = useContext(AuthStatusContext);\n  const history = useHistory();\n\n  const onLogIn = async values => {\n    try {\n      await Auth.signIn(values.email, values.password);\n      setLoggedIn(true);\n      const {\n        attributes: {\n          email\n        }\n      } = await Auth.currentAuthenticatedUser();\n      const filter = {\n        user_email: {\n          eq: email\n        }\n      };\n      const screenings = await API.graphql({\n        query: listScreenings,\n        variables: {\n          filter: filter\n        }\n      });\n      screenings.data.listScreenings.items.length === 0 ? history.push(\"/screening\") : history.push(\"/results\");\n    } catch (err) {\n      message.error(\"Your username or password is incorrect. Please try again.\");\n      console.log(\"error logging in: \" + err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(StyledLoginDiv, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: /*#__PURE__*/_jsxDEV(StyledTitle, {\n          level: 2,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledContentDiv, {\n        children: /*#__PURE__*/_jsxDEV(StyledAuthenticationForm, {\n          initialValues: {\n            remember: true\n          },\n          onFinish: onLogIn,\n          children: [/*#__PURE__*/_jsxDEV(Item, {\n            name: \"email\",\n            rules: [{\n              required: true,\n              message: \"Please enter your email address\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 30\n              }, this),\n              placeholder: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: \"Please enter your password\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 25\n              }, this),\n              type: \"password\",\n              placeholder: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            children: [/*#__PURE__*/_jsxDEV(Item, {\n              name: \"remember\",\n              valuePropName: \"checked\",\n              noStyle: true,\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                children: \"Remember Me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledForgotLoginLink, {\n              to: \"reset\",\n              children: \"Forgot Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            children: [/*#__PURE__*/_jsxDEV(StyledLoginFormButton, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), \"Or \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"QsO4Nv+oY7Nuh/FdtLIvSUu0elE=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/farzanhaq/Desktop/PropertyPal/src/components/Authentication/Login/Login.tsx"],"names":["LockOutlined","UserOutlined","Checkbox","Divider","Form","Input","message","Typography","API","Auth","useContext","Link","useHistory","listScreenings","AuthStatusContext","StyledLoginFormButton","StyledContentDiv","StyledLoginDiv","StyledAuthenticationForm","StyledForgotLoginLink","StyledTitle","Item","Login","setLoggedIn","history","onLogIn","values","signIn","email","password","attributes","currentAuthenticatedUser","filter","user_email","eq","screenings","graphql","query","variables","data","items","length","push","err","error","console","log","remember","required"],"mappings":"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","sourcesContent":["import { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Checkbox, Divider, Form, Input, message, Typography } from \"antd\";\nimport { API, Auth } from \"aws-amplify\";\nimport { useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { listScreenings } from \"../../../graphql/queries\";\nimport { AuthStatusContext } from \"../../../utils/AuthState\";\nimport { StyledLoginFormButton } from \"../../Styles/Button.style\";\nimport { StyledContentDiv, StyledLoginDiv } from \"../../Styles/Div.style\";\nimport { StyledAuthenticationForm } from \"../../Styles/Form.style\";\nimport { StyledForgotLoginLink } from \"../../Styles/Link.style\";\nimport { StyledTitle } from \"../../Styles/Title.style\";\n\nconst { Item } = Form;\n\nconst Login = () => {\n  const { setLoggedIn } = useContext(AuthStatusContext);\n  const history = useHistory();\n\n  const onLogIn = async (values: any) => {\n    try {\n      await Auth.signIn(values.email, values.password);\n      setLoggedIn(true);\n\n      const {\n        attributes: { email },\n      }: { attributes: { email: string } } =\n        await Auth.currentAuthenticatedUser();\n\n      const filter: { user_email: { eq: string } } = {\n        user_email: {\n          eq: email,\n        },\n      };\n\n      const screenings: any = await API.graphql({\n        query: listScreenings,\n        variables: { filter: filter },\n      });\n\n      screenings.data.listScreenings.items.length === 0\n        ? history.push(\"/screening\")\n        : history.push(\"/results\");\n    } catch (err) {\n      message.error(\"Your username or password is incorrect. Please try again.\")\n      console.log(\"error logging in: \" + err);\n    }\n  };\n\n  return (\n    <>\n      <StyledLoginDiv>\n        <Typography>\n          <StyledTitle level={2}>Log In</StyledTitle>\n        </Typography>\n        <Divider />\n        <StyledContentDiv>\n          <StyledAuthenticationForm\n            initialValues={{ remember: true }}\n            onFinish={onLogIn}\n          >\n            <Item\n              name=\"email\"\n              rules={[\n                { required: true, message: \"Please enter your email address\" },\n              ]}\n            >\n              <Input prefix={<UserOutlined />} placeholder=\"Email\" />\n            </Item>\n            <Item\n              name=\"password\"\n              rules={[\n                { required: true, message: \"Please enter your password\" },\n              ]}\n            >\n              <Input\n                prefix={<LockOutlined />}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n            </Item>\n            <Item>\n              <Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                <Checkbox>Remember Me</Checkbox>\n              </Item>\n              <StyledForgotLoginLink to=\"reset\">\n                Forgot Password\n              </StyledForgotLoginLink>\n            </Item>\n            <Item>\n              <StyledLoginFormButton type=\"primary\" htmlType=\"submit\">\n                Log In\n              </StyledLoginFormButton>\n              Or <Link to=\"/signup\">Sign Up</Link>\n            </Item>\n          </StyledAuthenticationForm>\n        </StyledContentDiv>\n      </StyledLoginDiv>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}