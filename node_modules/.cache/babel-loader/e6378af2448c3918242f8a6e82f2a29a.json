{"ast":null,"code":"var _jsxFileName = \"/Users/farzanhaq/Desktop/PropertyPal/src/components/Authentication/Reset/Reset.tsx\",\n    _s = $RefreshSig$();\n\nimport { Divider, Typography, Form, Input, Button, Alert } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport { StyledTitle } from \"../../Styles/Title.style\";\nimport { StyledContentDiv, StyledDiv } from \"../../Styles/Div.style\";\nimport { StyledAuthenticationForm } from \"../../Styles/Form.style\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Item\n} = Form;\nconst formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 24\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 8\n    }\n  }\n};\n\nconst Reset = () => {\n  _s();\n\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const [alertType, setAlertType] = useState();\n  const [email, setEmail] = useState(\"\");\n  const [isEmailSent, setIsEmailSent] = useState(false);\n  const [form] = Form.useForm();\n  const history = useHistory();\n\n  const onReset = async values => {\n    if (isEmailSent) {\n      try {\n        setShowAlert(false);\n        await Auth.forgotPasswordSubmit(email, values.code, values.password);\n        history.push(\"/login\");\n      } catch (error) {\n        setAlertMessage(\"The verification code you have entered is incorrect\");\n        setAlertType(\"error\");\n        setShowAlert(true);\n      }\n    } else {\n      try {\n        await Auth.forgotPassword(values.email);\n        setAlertMessage(\"Please find the verification code sent to your email\");\n        setAlertType(\"success\");\n        setShowAlert(true);\n        setEmail(values.email);\n        setIsEmailSent(true);\n      } catch (error) {\n        setAlertMessage(\"There was an error sending the verification code to you email\");\n        setAlertType(\"error\");\n        setShowAlert(true);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledDiv, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      children: /*#__PURE__*/_jsxDEV(StyledTitle, {\n        level: 2,\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n      message: alertMessage,\n      type: alertType,\n      showIcon: true,\n      closable: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StyledContentDiv, {\n      children: isEmailSent ? /*#__PURE__*/_jsxDEV(StyledAuthenticationForm, { ...formItemLayout,\n        form: form,\n        name: \"register\",\n        onFinish: onReset,\n        scrollToFirstError: true,\n        children: [/*#__PURE__*/_jsxDEV(Item, {\n          name: \"code\",\n          label: \"Verification Code\",\n          rules: [{\n            required: true,\n            message: \"Please enter your verification code\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, {\n          name: \"password\",\n          label: \"New Password\",\n          rules: [{\n            required: true,\n            message: \"Please enter your new password\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, { ...tailFormItemLayout,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(StyledAuthenticationForm, { ...formItemLayout,\n        form: form,\n        name: \"register\",\n        onFinish: onReset,\n        scrollToFirstError: true,\n        children: [/*#__PURE__*/_jsxDEV(Item, {\n          name: \"email\",\n          label: \"E-mail\",\n          rules: [{\n            type: \"email\",\n            message: \"The input is not a valid email!\"\n          }, {\n            required: true,\n            message: \"Please enter your email\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Item, { ...tailFormItemLayout,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Reset, \"kVIDb5Uo1QuoNDlgM7r9dEoOU0s=\", false, function () {\n  return [Form.useForm, useHistory];\n});\n\n_c = Reset;\nexport default Reset;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reset\");","map":{"version":3,"sources":["/Users/farzanhaq/Desktop/PropertyPal/src/components/Authentication/Reset/Reset.tsx"],"names":["Divider","Typography","Form","Input","Button","Alert","useHistory","Auth","StyledTitle","StyledContentDiv","StyledDiv","StyledAuthenticationForm","useState","Item","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","Reset","showAlert","setShowAlert","alertMessage","setAlertMessage","alertType","setAlertType","email","setEmail","isEmailSent","setIsEmailSent","form","useForm","history","onReset","values","forgotPasswordSubmit","code","password","push","error","forgotPassword","required","message","type"],"mappings":"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","sourcesContent":["import { Divider, Typography, Form, Input, Button, Alert } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport { Auth } from \"aws-amplify\";\nimport { StyledTitle } from \"../../Styles/Title.style\";\nimport { StyledContentDiv, StyledDiv } from \"../../Styles/Div.style\";\nimport { StyledAuthenticationForm } from \"../../Styles/Form.style\";\nimport { useState } from \"react\";\n\nconst { Item } = Form;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\nconst Reset = () => {\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const [alertType, setAlertType] = useState<\n    \"success\" | \"error\" | \"info\" | \"warning\" | undefined\n  >();\n  const [email, setEmail] = useState(\"\");\n  const [isEmailSent, setIsEmailSent] = useState(false);\n  const [form] = Form.useForm();\n  const history = useHistory();\n\n  const onReset = async (values: any) => {\n    if (isEmailSent) {\n      try {\n        setShowAlert(false);\n        await Auth.forgotPasswordSubmit(email, values.code, values.password);\n        history.push(\"/login\");\n      } catch (error) {\n        setAlertMessage(\"The verification code you have entered is incorrect\");\n        setAlertType(\"error\");\n        setShowAlert(true);\n      }\n    } else {\n      try {\n        await Auth.forgotPassword(values.email);\n        setAlertMessage(\"Please find the verification code sent to your email\");\n        setAlertType(\"success\");\n        setShowAlert(true);\n        setEmail(values.email);\n        setIsEmailSent(true);\n      } catch (error) {\n        setAlertMessage(\n          \"There was an error sending the verification code to you email\"\n        );\n        setAlertType(\"error\");\n        setShowAlert(true);\n      }\n    }\n  };\n\n  return (\n    <StyledDiv>\n      <Typography>\n        <StyledTitle level={2}>Reset Password</StyledTitle>\n      </Typography>\n      <Divider />\n      {showAlert && (\n        <Alert message={alertMessage} type={alertType} showIcon closable />\n      )}\n      <StyledContentDiv>\n        {isEmailSent ? (\n          <StyledAuthenticationForm\n            {...formItemLayout}\n            form={form}\n            name=\"register\"\n            onFinish={onReset}\n            scrollToFirstError\n          >\n            <Item\n              name=\"code\"\n              label=\"Verification Code\"\n              rules={[\n                {\n                  required: true,\n                  message: \"Please enter your verification code\",\n                },\n              ]}\n            >\n              <Input />\n            </Item>\n\n            <Item\n              name=\"password\"\n              label=\"New Password\"\n              rules={[\n                {\n                  required: true,\n                  message: \"Please enter your new password\",\n                },\n              ]}\n            >\n              <Input />\n            </Item>\n            <Item {...tailFormItemLayout}>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Confirm\n              </Button>\n            </Item>\n          </StyledAuthenticationForm>\n        ) : (\n          <StyledAuthenticationForm\n            {...formItemLayout}\n            form={form}\n            name=\"register\"\n            onFinish={onReset}\n            scrollToFirstError\n          >\n            <Item\n              name=\"email\"\n              label=\"E-mail\"\n              rules={[\n                {\n                  type: \"email\",\n                  message: \"The input is not a valid email!\",\n                },\n                {\n                  required: true,\n                  message: \"Please enter your email\",\n                },\n              ]}\n            >\n              <Input />\n            </Item>\n            <Item {...tailFormItemLayout}>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Confirm\n              </Button>\n            </Item>\n          </StyledAuthenticationForm>\n        )}\n      </StyledContentDiv>\n    </StyledDiv>\n  );\n};\n\nexport default Reset;\n"]},"metadata":{},"sourceType":"module"}