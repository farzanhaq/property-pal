{"ast":null,"code":"var _jsxFileName = \"/Users/farzanhaq/Desktop/PropertyPal/src/components/Authentication/Login/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Alert, Checkbox, Divider, Form, Input, Typography } from \"antd\";\nimport { API, Auth } from \"aws-amplify\";\nimport { useContext, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { listScreenings } from \"../../../graphql/queries\";\nimport { AuthStatusContext } from \"../../../utils/AuthState\";\nimport { StyledLoginFormButton } from \"../../Styles/Button.style\";\nimport { StyledContentDiv, StyledLoginDiv } from \"../../Styles/Div.style\";\nimport { StyledAuthenticationForm } from \"../../Styles/Form.style\";\nimport { StyledForgotLoginLink } from \"../../Styles/Link.style\";\nimport { StyledTitle } from \"../../Styles/Title.style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Item\n} = Form;\n\nconst Login = () => {\n  _s();\n\n  const [showAlert, setShowAlert] = useState(false);\n  const {\n    setLoggedIn\n  } = useContext(AuthStatusContext);\n  const history = useHistory();\n\n  const onLogIn = async values => {\n    try {\n      setShowAlert(false);\n      await Auth.signIn(values.email, values.password);\n      setLoggedIn(true);\n      const {\n        attributes: {\n          email\n        }\n      } = await Auth.currentAuthenticatedUser();\n      const filter = {\n        user_email: {\n          eq: email\n        }\n      };\n      const screenings = await API.graphql({\n        query: listScreenings,\n        variables: {\n          filter: filter\n        }\n      });\n      screenings.data.listScreenings.items.length === 0 ? history.push(\"/screening\") : history.push(\"/results\");\n    } catch (error) {\n      setShowAlert(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(StyledLoginDiv, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: /*#__PURE__*/_jsxDEV(StyledTitle, {\n          level: 2,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n        message: \"Your username or password is incorrect. Please try again.\",\n        type: \"error\",\n        showIcon: true,\n        closable: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledContentDiv, {\n        children: /*#__PURE__*/_jsxDEV(StyledAuthenticationForm, {\n          initialValues: {\n            remember: true\n          },\n          onFinish: onLogIn,\n          children: [/*#__PURE__*/_jsxDEV(Item, {\n            name: \"email\",\n            rules: [{\n              required: true,\n              message: \"Please enter your email address\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 30\n              }, this),\n              placeholder: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: \"Please enter your password\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 25\n              }, this),\n              type: \"password\",\n              placeholder: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            children: [/*#__PURE__*/_jsxDEV(Item, {\n              name: \"remember\",\n              valuePropName: \"checked\",\n              noStyle: true,\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                children: \"Remember me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledForgotLoginLink, {\n              to: \"reset\",\n              children: \"Forgot password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Item, {\n            children: [/*#__PURE__*/_jsxDEV(StyledLoginFormButton, {\n              size: \"large\",\n              type: \"primary\",\n              htmlType: \"submit\",\n              children: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), \"Or \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 18\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"5Qlvm/a8ZVuGNijkFqCH3L2EkRw=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/farzanhaq/Desktop/PropertyPal/src/components/Authentication/Login/Login.tsx"],"names":["LockOutlined","UserOutlined","Alert","Checkbox","Divider","Form","Input","Typography","API","Auth","useContext","useState","Link","useHistory","listScreenings","AuthStatusContext","StyledLoginFormButton","StyledContentDiv","StyledLoginDiv","StyledAuthenticationForm","StyledForgotLoginLink","StyledTitle","Item","Login","showAlert","setShowAlert","setLoggedIn","history","onLogIn","values","signIn","email","password","attributes","currentAuthenticatedUser","filter","user_email","eq","screenings","graphql","query","variables","data","items","length","push","error","remember","required","message"],"mappings":"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","sourcesContent":["import { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { Alert, Checkbox, Divider, Form, Input, Typography } from \"antd\";\nimport { API, Auth } from \"aws-amplify\";\nimport { useContext, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { listScreenings } from \"../../../graphql/queries\";\nimport { AuthStatusContext } from \"../../../utils/AuthState\";\nimport { StyledLoginFormButton } from \"../../Styles/Button.style\";\nimport { StyledContentDiv, StyledLoginDiv } from \"../../Styles/Div.style\";\nimport { StyledAuthenticationForm } from \"../../Styles/Form.style\";\nimport { StyledForgotLoginLink } from \"../../Styles/Link.style\";\nimport { StyledTitle } from \"../../Styles/Title.style\";\n\nconst { Item } = Form;\n\nconst Login = () => {\n  const [showAlert, setShowAlert] = useState<boolean>(false);\n  const { setLoggedIn } = useContext(AuthStatusContext);\n  const history = useHistory();\n\n  const onLogIn = async (values: any) => {\n    try {\n      setShowAlert(false);\n\n      await Auth.signIn(values.email, values.password);\n      setLoggedIn(true);\n\n      const {\n        attributes: { email },\n      }: { attributes: { email: string } } =\n        await Auth.currentAuthenticatedUser();\n\n      const filter: { user_email: { eq: string } } = {\n        user_email: {\n          eq: email,\n        },\n      };\n\n      const screenings: any = await API.graphql({\n        query: listScreenings,\n        variables: { filter: filter },\n      });\n\n      screenings.data.listScreenings.items.length === 0\n        ? history.push(\"/screening\")\n        : history.push(\"/results\");\n    } catch (error) {\n      setShowAlert(true);\n    }\n  };\n\n  return (\n    <>\n      <StyledLoginDiv>\n        <Typography>\n          <StyledTitle level={2}>Log In</StyledTitle>\n        </Typography>\n        <Divider />\n        {showAlert && (\n          <Alert\n            message=\"Your username or password is incorrect. Please try again.\"\n            type=\"error\"\n            showIcon\n            closable\n          />\n        )}\n        <StyledContentDiv>\n          <StyledAuthenticationForm\n            initialValues={{ remember: true }}\n            onFinish={onLogIn}\n          >\n            <Item\n              name=\"email\"\n              rules={[\n                { required: true, message: \"Please enter your email address\" },\n              ]}\n            >\n              <Input prefix={<UserOutlined />} placeholder=\"Email\" />\n            </Item>\n            <Item\n              name=\"password\"\n              rules={[\n                { required: true, message: \"Please enter your password\" },\n              ]}\n            >\n              <Input\n                prefix={<LockOutlined />}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n            </Item>\n            <Item>\n              <Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                <Checkbox>Remember me</Checkbox>\n              </Item>\n              <StyledForgotLoginLink to=\"reset\">\n                Forgot password\n              </StyledForgotLoginLink>\n            </Item>\n            <Item>\n              <StyledLoginFormButton size=\"large\" type=\"primary\" htmlType=\"submit\">\n                Log In\n              </StyledLoginFormButton>\n              Or <Link to=\"/signup\">Sign Up</Link>\n            </Item>\n          </StyledAuthenticationForm>\n        </StyledContentDiv>\n      </StyledLoginDiv>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}